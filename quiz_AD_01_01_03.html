

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cuestionario de Repaso: Virtualización e Hipervisores</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            aspect-ratio: 16/9;
            height: 100vh;
            overflow: hidden;
        }
        
        .quiz-container {
            aspect-ratio: 16/9;
            max-height: 100vh;
            max-width: 100vw;
        }
        
        .question-card {
            transition: all 0.3s ease;
            box-shadow: 0 10px 25px rgba(23, 97, 41, 0.1);
        }
        
        .option-btn {
            transition: all 0.2s ease;
            border: 2px solid #e5e7eb;
        }
        
        .option-btn:hover {
            border-color: #176129;
            background-color: rgba(23, 97, 41, 0.05);
            transform: translateY(-1px);
        }
        
        .option-btn.correct {
            background-color: #176129;
            border-color: #176129;
            color: white;
            animation: correctPulse 0.6s ease;
        }
        
        .option-btn.incorrect {
            background-color: #dc2626;
            border-color: #dc2626;
            color: white;
            animation: shake 0.5s ease;
        }
        
        @keyframes correctPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        
        .feedback-modal {
            backdrop-filter: blur(10px);
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }
        
        .timer {
            background: linear-gradient(135deg, #176129, #22c55e);
        }
        
        .progress-bar {
            background: linear-gradient(90deg, #176129, #22c55e);
            transition: width 0.3s ease;
        }
        
        .icon-bounce {
            animation: bounce 2s infinite;
        }
        
        @keyframes bounce {
            0%, 20%, 53%, 80%, 100% { transform: translateY(0); }
            40%, 43% { transform: translateY(-10px); }
            70% { transform: translateY(-5px); }
        }
    </style>
</head>
<body class="bg-white">
    <div class="quiz-container w-full h-full flex flex-col">
        <!-- Header -->
        <div class="bg-gradient-to-r from-green-600 to-green-500 text-white p-4 flex justify-between items-center">
            <div class="flex items-center space-x-3">
                <i class="fas fa-server text-2xl icon-bounce"></i>
                <h1 class="text-xl font-bold">Virtualización e Hipervisores</h1>
            </div>
            <div class="flex items-center space-x-4">
                <div class="timer px-4 py-2 rounded-full text-sm font-semibold flex items-center space-x-2">
                    <i class="fas fa-clock"></i>
                    <span id="timer">05:00</span>
                </div>
                <div class="text-sm font-medium">
                    <span id="current-question">1</span> / <span id="total-questions">6</span>
                </div>
            </div>
        </div>

        <!-- Progress Bar -->
        <div class="bg-gray-200 h-2">
            <div id="progress-bar" class="progress-bar h-full" style="width: 16.67%"></div>
        </div>

        <!-- Main Content -->
        <div class="flex-1 p-6 flex items-center justify-center">
            <div class="question-card bg-white rounded-2xl p-8 w-full max-w-4xl border border-gray-100">
                <div class="mb-6">
                    <div class="flex items-center space-x-3 mb-4">
                        <div class="w-10 h-10 bg-green-600 rounded-full flex items-center justify-center text-white font-bold">
                            <span id="question-number">1</span>
                        </div>
                        <h2 class="text-xl font-semibold text-gray-800">Pregunta <span id="question-counter">1</span></h2>
                    </div>
                    <p id="question-text" class="text-lg text-gray-700 leading-relaxed">
                        ¿Cuál es la característica principal de un hipervisor Tipo I o "bare-metal"?
                    </p>
                </div>

                <div id="options-container" class="space-y-3 mb-6">
                    <button class="option-btn w-full p-4 text-left rounded-xl bg-white hover:bg-gray-50 flex items-center space-x-3" data-option="a">
                        <div class="w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center font-semibold text-gray-600">A</div>
                        <span>Se instala sobre un sistema operativo de propósito general preexistente.</span>
                    </button>
                    <button class="option-btn w-full p-4 text-left rounded-xl bg-white hover:bg-gray-50 flex items-center space-x-3" data-option="b">
                        <div class="w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center font-semibold text-gray-600">B</div>
                        <span>Se instala directamente sobre el hardware físico de un servidor sin depender de un SO preexistente.</span>
                    </button>
                    <button class="option-btn w-full p-4 text-left rounded-xl bg-white hover:bg-gray-50 flex items-center space-x-3" data-option="c">
                        <div class="w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center font-semibold text-gray-600">C</div>
                        <span>Es ideal para entornos de desarrollo y pruebas individuales.</span>
                    </button>
                </div>

                <div class="flex justify-between items-center">
                    <div class="flex items-center space-x-2 text-sm text-gray-500">
                        <i class="fas fa-lightbulb"></i>
                        <span>Selecciona la respuesta correcta</span>
                    </div>
                    <button id="next-btn" class="bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg font-medium transition-all duration-200 opacity-50 cursor-not-allowed" disabled>
                        Siguiente <i class="fas fa-arrow-right ml-2"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Score Display -->
        <div class="bg-gray-50 p-4 flex justify-center items-center space-x-6">
            <div class="flex items-center space-x-2">
                <i class="fas fa-check-circle text-green-600"></i>
                <span class="text-sm font-medium">Correctas: <span id="correct-count">0</span></span>
            </div>
            <div class="flex items-center space-x-2">
                <i class="fas fa-times-circle text-red-500"></i>
                <span class="text-sm font-medium">Incorrectas: <span id="incorrect-count">0</span></span>
            </div>
            <div class="flex items-center space-x-2">
                <i class="fas fa-percentage text-blue-500"></i>
                <span class="text-sm font-medium">Puntuación: <span id="score-percentage">0%</span></span>
            </div>
        </div>
    </div>

    <!-- Feedback Modal -->
    <div id="feedback-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden feedback-modal">
        <div class="bg-white rounded-2xl p-8 max-w-2xl mx-4 text-center">
            <div id="feedback-icon" class="text-6xl mb-4"></div>
            <h3 id="feedback-title" class="text-2xl font-bold mb-4"></h3>
            <p id="feedback-explanation" class="text-gray-700 leading-relaxed mb-6"></p>
            <button id="continue-btn" class="bg-green-600 hover:bg-green-700 text-white px-8 py-3 rounded-lg font-medium transition-all duration-200">
                Continuar <i class="fas fa-arrow-right ml-2"></i>
            </button>
        </div>
    </div>

    <!-- Final Results Modal -->
    <div id="results-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden feedback-modal">
        <div class="bg-white rounded-2xl p-8 max-w-2xl mx-4 text-center">
            <div id="final-icon" class="text-6xl mb-4"></div>
            <h3 class="text-3xl font-bold mb-4">¡Cuestionario Completado!</h3>
            <div class="grid grid-cols-3 gap-4 mb-6">
                <div class="bg-green-50 p-4 rounded-lg">
                    <div class="text-2xl font-bold text-green-600" id="final-correct">0</div>
                    <div class="text-sm text-gray-600">Correctas</div>
                </div>
                <div class="bg-red-50 p-4 rounded-lg">
                    <div class="text-2xl font-bold text-red-500" id="final-incorrect">0</div>
                    <div class="text-sm text-gray-600">Incorrectas</div>
                </div>
                <div class="bg-blue-50 p-4 rounded-lg">
                    <div class="text-2xl font-bold text-blue-500" id="final-percentage">0%</div>
                    <div class="text-sm text-gray-600">Puntuación</div>
                </div>
            </div>
            <button id="restart-btn" class="bg-green-600 hover:bg-green-700 text-white px-8 py-3 rounded-lg font-medium transition-all duration-200">
                <i class="fas fa-redo mr-2"></i> Reiniciar Cuestionario
            </button>
        </div>
    </div>

    <script>
        // Audio Context for sounds
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();
        
        // Sound generation functions
        function playCorrectSound() {
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.frequency.setValueAtTime(523.25, audioContext.currentTime); // C5
            oscillator.frequency.setValueAtTime(659.25, audioContext.currentTime + 0.1); // E5
            oscillator.frequency.setValueAtTime(783.99, audioContext.currentTime + 0.2); // G5
            
            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.5);
        }
        
        function playIncorrectSound() {
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.frequency.setValueAtTime(220, audioContext.currentTime); // A3
            oscillator.frequency.setValueAtTime(196, audioContext.currentTime + 0.2); // G3
            
            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.4);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.4);
        }
        
        function playClickSound() {
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.frequency.setValueAtTime(800, audioContext.currentTime);
            gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.1);
        }

        // Quiz data
        const questions = [
            {
                question: "¿Cuál es la característica principal de un hipervisor Tipo I o \"bare-metal\"?",
                options: [
                    "Se instala sobre un sistema operativo de propósito general preexistente.",
                    "Se instala directamente sobre el hardware físico de un servidor sin depender de un SO preexistente.",
                    "Es ideal para entornos de desarrollo y pruebas individuales."
                ],
                correct: 1,
                explanation: "Los hipervisores Tipo I, también conocidos como \"bare-metal\" o nativos, se instalan directamente sobre el hardware físico del servidor, lo que les permite un acceso y control directo sobre los recursos subyacentes sin la intermediación de un sistema operativo anfitrión convencional."
            },
            {
                question: "¿Qué tecnología de virtualización de contenedores es soportada de forma nativa por Proxmox VE?",
                options: [
                    "Docker",
                    "Kubernetes",
                    "LXC (Linux Containers)"
                ],
                correct: 2,
                explanation: "Proxmox VE ofrece soporte nativo para contenedores LXC, integrando máquinas virtuales y contenedores en una sola plataforma de virtualización."
            },
            {
                question: "¿Cuál de los siguientes hipervisores es de Tipo 2 (Hosted)?",
                options: [
                    "Proxmox VE",
                    "oVirt",
                    "VirtualBox"
                ],
                correct: 2,
                explanation: "VirtualBox es clasificado como un hipervisor de Tipo 2 (Hosted), ya que se ejecuta sobre un sistema operativo anfitrión, a diferencia de Proxmox VE y oVirt que son de Tipo 1 (Bare Metal)."
            },
            {
                question: "¿Qué ventaja clave de los hipervisores Tipo I se traduce en una significativa reducción de costos energéticos y de espacio físico en el centro de datos?",
                options: [
                    "Mayor Seguridad y Aislamiento",
                    "Eficiencia y Optimización de Recursos",
                    "Portabilidad y Recuperación ante Desastres Mejorada"
                ],
                correct: 1,
                explanation: "La eficiencia y optimización de recursos, lograda por la consolidación de servidores, mejora drásticamente la utilización del hardware, lo que se traduce en una reducción de costos de hardware, consumo de energía (hasta un 40% de ahorro) y espacio físico."
            },
            {
                question: "¿Qué componente de hardware es considerado el más crítico para un hipervisor Tipo I, encargado de ejecutar las instrucciones de las máquinas virtuales y gestionar la virtualización asistida por hardware?",
                options: [
                    "Memoria RAM",
                    "Procesador (CPU)",
                    "Almacenamiento"
                ],
                correct: 1,
                explanation: "El procesador (CPU) es el componente más crítico para un hipervisor Tipo I, siendo responsable de ejecutar las instrucciones de las máquinas virtuales y de gestionar la virtualización asistida por hardware."
            },
            {
                question: "Para Microsoft Hyper-V, ¿qué tecnología de Traducción de Direcciones de Segundo Nivel (SLAT) es un requisito fundamental?",
                options: [
                    "Intel VT-x o AMD-V",
                    "NX bit o XD bit",
                    "EPT (Intel) o NPT (AMD)"
                ],
                correct: 2,
                explanation: "Para Microsoft Hyper-V, la compatibilidad con SLAT, específicamente EPT para Intel o NPT para AMD, es un requisito fundamental para la seguridad basada en virtualización y la protección de la memoria."
            }
        ];

        // Quiz state
        let currentQuestion = 0;
        let correctAnswers = 0;
        let incorrectAnswers = 0;
        let timeLeft = 300; // 5 minutes
        let timerInterval;
        let answered = false;

        // DOM elements
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const nextBtn = document.getElementById('next-btn');
        const feedbackModal = document.getElementById('feedback-modal');
        const resultsModal = document.getElementById('results-modal');
        const timerElement = document.getElementById('timer');
        const progressBar = document.getElementById('progress-bar');

        // Initialize quiz
        function initQuiz() {
            startTimer();
            loadQuestion();
            updateUI();
        }

        // Timer functions
        function startTimer() {
            timerInterval = setInterval(() => {
                timeLeft--;
                updateTimer();
                if (timeLeft <= 0) {
                    endQuiz();
                }
            }, 1000);
        }

        function updateTimer() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            timerElement.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        // Load current question
        function loadQuestion() {
            const question = questions[currentQuestion];
            questionText.textContent = question.question;
            
            const options = optionsContainer.querySelectorAll('.option-btn');
            options.forEach((btn, index) => {
                const span = btn.querySelector('span');
                span.textContent = question.options[index];
                btn.className = 'option-btn w-full p-4 text-left rounded-xl bg-white hover:bg-gray-50 flex items-center space-x-3';
                btn.disabled = false;
            });
            
            answered = false;
            nextBtn.disabled = true;
            nextBtn.className = 'bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg font-medium transition-all duration-200 opacity-50 cursor-not-allowed';
        }

        // Handle option selection
        function selectOption(selectedIndex) {
            if (answered) return;
            
            playClickSound();
            answered = true;
            
            const question = questions[currentQuestion];
            const options = optionsContainer.querySelectorAll('.option-btn');
            
            options.forEach((btn, index) => {
                btn.disabled = true;
                if (index === question.correct) {
                    btn.classList.add('correct');
                } else if (index === selectedIndex && index !== question.correct) {
                    btn.classList.add('incorrect');
                }
            });
            
            const isCorrect = selectedIndex === question.correct;
            
            setTimeout(() => {
                if (isCorrect) {
                    correctAnswers++;
                    playCorrectSound();
                    showFeedback(true, question.explanation);
                } else {
                    incorrectAnswers++;
                    playIncorrectSound();
                    showFeedback(false, question.explanation);
                }
                updateUI();
            }, 1000);
        }

        // Show feedback modal
        function showFeedback(isCorrect, explanation) {
            const feedbackIcon = document.getElementById('feedback-icon');
            const feedbackTitle = document.getElementById('feedback-title');
            const feedbackExplanation = document.getElementById('feedback-explanation');
            
            if (isCorrect) {
                feedbackIcon.innerHTML = '<i class="fas fa-check-circle text-green-500"></i>';
                feedbackTitle.textContent = '¡Correcto!';
                feedbackTitle.className = 'text-2xl font-bold mb-4 text-green-600';
            } else {
                feedbackIcon.innerHTML = '<i class="fas fa-times-circle text-red-500"></i>';
                feedbackTitle.textContent = 'Incorrecto';
                feedbackTitle.className = 'text-2xl font-bold mb-4 text-red-600';
            }
            
            feedbackExplanation.textContent = explanation;
            feedbackModal.classList.remove('hidden');
        }

        // Continue to next question
        function continueQuiz() {
            feedbackModal.classList.add('hidden');
            
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                loadQuestion();
                updateUI();
            } else {
                endQuiz();
            }
        }

        // Update UI elements
        function updateUI() {
            document.getElementById('current-question').textContent = currentQuestion + 1;
            document.getElementById('question-number').textContent = currentQuestion + 1;
            document.getElementById('question-counter').textContent = currentQuestion + 1;
            document.getElementById('correct-count').textContent = correctAnswers;
            document.getElementById('incorrect-count').textContent = incorrectAnswers;
            
            const totalAnswered = correctAnswers + incorrectAnswers;
            const percentage = totalAnswered > 0 ? Math.round((correctAnswers / totalAnswered) * 100) : 0;
            document.getElementById('score-percentage').textContent = percentage + '%';
            
            const progress = ((currentQuestion + 1) / questions.length) * 100;
            progressBar.style.width = progress + '%';
        }

        // End quiz
        function endQuiz() {
            clearInterval(timerInterval);
            
            const totalAnswered = correctAnswers + incorrectAnswers;
            const percentage = totalAnswered > 0 ? Math.round((correctAnswers / totalAnswered) * 100) : 0;
            
            document.getElementById('final-correct').textContent = correctAnswers;
            document.getElementById('final-incorrect').textContent = incorrectAnswers;
            document.getElementById('final-percentage').textContent = percentage + '%';
            
            const finalIcon = document.getElementById('final-icon');
            if (percentage >= 80) {
                finalIcon.innerHTML = '<i class="fas fa-trophy text-yellow-500"></i>';
            } else if (percentage >= 60) {
                finalIcon.innerHTML = '<i class="fas fa-medal text-blue-500"></i>';
            } else {
                finalIcon.innerHTML = '<i class="fas fa-graduation-cap text-gray-500"></i>';
            }
            
            resultsModal.classList.remove('hidden');
        }

        // Restart quiz
        function restartQuiz() {
            currentQuestion = 0;
            correctAnswers = 0;
            incorrectAnswers = 0;
            timeLeft = 300;
            answered = false;
            
            resultsModal.classList.add('hidden');
            feedbackModal.classList.add('hidden');
            
            initQuiz();
        }

        // Event listeners
        optionsContainer.addEventListener('click', (e) => {
            const btn = e.target.closest('.option-btn');
            if (btn) {
                const index = Array.from(optionsContainer.children).indexOf(btn);
                selectOption(index);
            }
        });

        document.getElementById('continue-btn').addEventListener('click', continueQuiz);
        document.getElementById('restart-btn').addEventListener('click', restartQuiz);

        // Initialize quiz on page load
        document.addEventListener('DOMContentLoaded', () => {
            // Enable audio context on user interaction
            document.addEventListener('click', () => {
                if (audioContext.state === 'suspended') {
                    audioContext.resume();
                }
            }, { once: true });
            
            initQuiz();
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9665eec1011a3234',t:'MTc1MzcyMjAyNS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
